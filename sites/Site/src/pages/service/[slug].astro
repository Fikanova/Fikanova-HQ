---
import Layout from '../../layouts/Layout.astro';

// Generate static paths
export function getStaticPaths() {
    return [
        { params: { slug: 'web-development' } },
        { params: { slug: 'mobile-app-development' } },
        { params: { slug: 'custom-software' } },
        { params: { slug: 'seo-optimization' } },
        { params: { slug: 'social-media-marketing' } },
        { params: { slug: 'content-strategy' } },
        { params: { slug: 'chatbot-integration' } },
        { params: { slug: 'ai-automation' } },
        { params: { slug: 'tech-consultation' } }
    ];
}

const { slug } = Astro.params;

// Service data with hero images
const allServices = {
    'web-development': {
        title: 'Web Development',
        category: 'Development',
        description: 'High-performance websites built with modern technologies.',
        price: 'Starts at KES 35,000',
        heroImage: 'https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=1920&q=80',
        features: ['Custom responsive design', 'SEO-optimized structure', 'Fast load times', 'CMS integration', 'Hosting setup'],
        content: 'We build fast, secure, and scalable websites tailored to your business needs. From simple landing pages to complex web applications, we use cutting-edge technologies like React, Next.js, and Astro.',
        process: ['Discovery & Strategy', 'UI/UX Design', 'Development', 'Testing & QA', 'Launch & Support']
    },
    'mobile-app-development': {
        title: 'Mobile App Development',
        category: 'Development',
        description: 'Native Android & iOS apps for your business.',
        price: 'Starts at KES 80,000',
        heroImage: 'https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=1920&q=80',
        features: ['Cross-platform development', 'Native performance', 'Push notifications', 'Offline support', 'App store submission'],
        content: 'Bring your app idea to life with our mobile development expertise. We create intuitive, high-performing apps that your users will love.',
        process: ['Concept & Wireframing', 'UI/UX Design', 'Development', 'Beta Testing', 'Store Submission']
    },
    'custom-software': {
        title: 'Custom Software',
        category: 'Development',
        description: 'Internal tools and enterprise solutions.',
        price: 'Custom Quote',
        heroImage: 'https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=1920&q=80',
        features: ['Workflow automation', 'Database design', 'API integrations', 'User management', 'Analytics dashboards'],
        content: 'Streamline your operations with custom software built specifically for your business processes.',
        process: ['Requirements Analysis', 'System Design', 'Agile Development', 'Integration', 'Training & Handoff']
    },
    'seo-optimization': {
        title: 'SEO Optimization',
        category: 'Marketing',
        description: 'Rank #1 on Google with proven strategies.',
        price: 'Retainer: KES 15,000/mo',
        heroImage: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&q=80',
        features: ['Keyword research', 'On-page optimization', 'Technical SEO', 'Content strategy', 'Monthly reporting'],
        content: 'Get found by customers searching for your services. Our data-driven SEO strategies improve your search rankings and drive organic traffic.',
        process: ['SEO Audit', 'Keyword Strategy', 'On-Page Optimization', 'Link Building', 'Performance Tracking']
    },
    'social-media-marketing': {
        title: 'Social Media Marketing',
        category: 'Marketing',
        description: 'Grow your audience with automated content.',
        price: 'Retainer: KES 20,000/mo',
        heroImage: 'https://images.unsplash.com/photo-1611926653458-09294b3142bf?w=1920&q=80',
        features: ['Content calendar', 'Post scheduling', 'Community management', 'Ad campaigns', 'Performance analytics'],
        content: 'Build your brand presence across social platforms with engaging content and strategic campaigns.',
        process: ['Brand Audit', 'Content Strategy', 'Content Creation', 'Community Management', 'Analytics & Optimization']
    },
    'content-strategy': {
        title: 'Content Strategy',
        category: 'Marketing',
        description: 'Brand storytelling that converts.',
        price: 'Starts at KES 10,000',
        heroImage: 'https://images.unsplash.com/photo-1542744094-3a31f272c490?w=1920&q=80',
        features: ['Brand voice development', 'Content planning', 'Copywriting', 'Blog management', 'Email campaigns'],
        content: 'Tell your story in a way that resonates with your audience and drives action.',
        process: ['Brand Discovery', 'Audience Research', 'Content Planning', 'Creation & Publishing', 'Performance Analysis']
    },
    'chatbot-integration': {
        title: 'Chatbot Integration',
        category: 'AI and Tech',
        description: '24/7 WhatsApp and web support automation.',
        price: 'Starts at KES 25,000',
        heroImage: 'https://images.unsplash.com/photo-1531746790731-6c087fecd65a?w=1920&q=80',
        features: ['WhatsApp Business API', 'Website chat widget', 'FAQ automation', 'Lead qualification', 'Human handoff'],
        content: 'Never miss a lead again. Our AI-powered chatbots handle customer inquiries around the clock.',
        process: ['Requirements Gathering', 'Flow Design', 'Bot Development', 'Integration & Testing', 'Launch & Training']
    },
    'ai-automation': {
        title: 'AI Automation',
        category: 'AI and Tech',
        description: 'Digital employees for repetitive tasks.',
        price: 'Custom Quote',
        heroImage: 'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=1920&q=80',
        features: ['Workflow automation', 'Data processing', 'Document generation', 'Email handling', 'Scheduling'],
        content: 'Free up your team for high-value work by automating repetitive tasks with intelligent AI agents.',
        process: ['Process Audit', 'Automation Design', 'AI Development', 'Integration', 'Monitoring & Optimization']
    },
    'tech-consultation': {
        title: 'Tech Consultation',
        category: 'AI and Tech',
        description: 'Expert digital strategy advice.',
        price: 'Hourly Rate',
        heroImage: 'https://images.unsplash.com/photo-1553877522-43269d4ea984?w=1920&q=80',
        features: ['Technology assessment', 'Digital roadmap', 'Vendor selection', 'Implementation guidance', 'Training'],
        content: 'Get expert advice on your digital transformation journey. We help you choose the right tools and strategies.',
        process: ['Initial Assessment', 'Strategy Development', 'Technology Selection', 'Implementation Planning', 'Ongoing Advisory']
    }
};

const service = allServices[slug];

if (!service) {
    return Astro.redirect('/services');
}
---

<Layout title={service.title}>
    <!-- Hero Section with Background Image -->
    <section class="service-hero">
        <div class="hero-background" style={`background-image: url('${service.heroImage}')`}></div>
        <div class="hero-overlay"></div>
        <div class="container hero-content">
            <a href="/services" class="back-link">
                <i class="fas fa-arrow-left"></i>
                <span>All Services</span>
            </a>
            <div class="hero-text">
                <span class="hero-category">{service.category}</span>
                <h1>{service.title}</h1>
                <p class="hero-desc">{service.description}</p>
            </div>
            <div class="hero-price">
                <span class="price-label">Starting at</span>
                <span class="price-value">{service.price}</span>
            </div>
        </div>
    </section>

    <!-- Service Content -->
    <main class="service-main">
        <div class="container">
            <div class="service-grid">
                <!-- Left Column: About & Features -->
                <div class="service-info">
                    <section class="info-section">
                        <h2><span class="section-number">01</span> About</h2>
                        <p>{service.content}</p>
                    </section>
                    
                    <section class="info-section">
                        <h2><span class="section-number">02</span> What's Included</h2>
                        <ul class="features-list">
                            {service.features.map(feature => (
                                <li>
                                    <i class="fas fa-check-circle"></i>
                                    <span>{feature}</span>
                                </li>
                            ))}
                        </ul>
                    </section>
                    
                    <section class="info-section">
                        <h2><span class="section-number">03</span> Our Process</h2>
                        <div class="process-steps">
                            {service.process.map((step, index) => (
                                <div class="process-step">
                                    <span class="step-number">0{index + 1}</span>
                                    <span class="step-name">{step}</span>
                                </div>
                            ))}
                        </div>
                    </section>
                </div>
                
                <!-- Right Column: CTA Sidebar -->
                <div class="service-sidebar">
                    <div class="cta-card">
                        <h3>Ready to get started?</h3>
                        <p class="cta-price">{service.price}</p>
                        <a href="/contact" class="btn btn-primary">
                            <i class="fas fa-arrow-right"></i>
                            Request Quote
                        </a>
                        <p class="cta-note">Free consultation included</p>
                    </div>
                    
                    <div class="contact-card">
                        <h4>Have Questions?</h4>
                        <p>Let's discuss your project requirements.</p>
                        <a href="/contact" class="contact-link">
                            <i class="fas fa-comments"></i>
                            Schedule a Call
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>
</Layout>

<style>
    /* Service Hero */
    .service-hero {
        position: relative;
        min-height: 70vh;
        display: flex;
        align-items: flex-end;
        padding: 60px 0;
        overflow: hidden;
    }
    
    .hero-background {
        position: absolute;
        inset: 0;
        background-size: cover;
        background-position: center;
        z-index: -2;
    }
    
    .hero-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(180deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.8) 100%);
        z-index: -1;
    }
    
    body.theme-light .hero-overlay {
        background: linear-gradient(180deg, rgba(26,54,93,0.5) 0%, rgba(26,54,93,0.9) 100%);
    }
    
    .hero-content {
        position: relative;
        z-index: 1;
        display: flex;
        flex-direction: column;
        gap: 40px;
        padding-top: 80px;
    }
    
    .back-link {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        color: rgba(255,255,255,0.7);
        text-decoration: none;
        font-size: 0.9rem;
        transition: all 0.3s ease;
    }
    
    .back-link:hover {
        color: var(--accent-gold);
    }
    
    .hero-text {
        max-width: 700px;
    }
    
    .hero-category {
        display: inline-block;
        padding: 8px 16px;
        background: rgba(201, 169, 98, 0.2);
        border: 1px solid var(--accent-gold);
        border-radius: 50px;
        color: var(--accent-gold);
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 20px;
    }
    
    .hero-text h1 {
        font-size: clamp(2.5rem, 6vw, 4rem);
        font-weight: 700;
        color: #ffffff;
        margin-bottom: 20px;
        line-height: 1.1;
    }
    
    .hero-desc {
        font-size: 1.2rem;
        color: rgba(255,255,255,0.8);
        line-height: 1.6;
    }
    
    .hero-price {
        display: flex;
        flex-direction: column;
        gap: 4px;
    }
    
    .price-label {
        font-size: 0.8rem;
        color: rgba(255,255,255,0.6);
        text-transform: uppercase;
        letter-spacing: 1px;
    }
    
    .price-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--accent-gold);
    }
    
    /* Service Main Content */
    .service-main {
        padding: 80px 0;
    }
    
    .service-grid {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 60px;
    }
    
    .service-info {
        display: flex;
        flex-direction: column;
        gap: 60px;
    }
    
    .info-section h2 {
        display: flex;
        align-items: center;
        gap: 16px;
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 24px;
    }
    
    .section-number {
        font-size: 0.9rem;
        color: var(--accent-gold);
        font-weight: 700;
    }
    
    .info-section p {
        font-size: 1.1rem;
        line-height: 1.8;
        color: var(--text-secondary);
    }
    
    .features-list {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 16px;
    }
    
    .features-list li {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 1rem;
    }
    
    .features-list i {
        color: var(--accent-gold);
        font-size: 1.1rem;
    }
    
    .process-steps {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
    }
    
    .process-step {
        display: flex;
        flex-direction: column;
        gap: 8px;
        padding: 20px 24px;
        background: var(--dark-card);
        border: 1px solid var(--border-subtle);
        border-radius: 12px;
        min-width: 160px;
        transition: all 0.3s ease;
    }
    
    .process-step:hover {
        border-color: var(--accent-gold);
        transform: translateY(-4px);
    }
    
    .step-number {
        font-size: 0.8rem;
        color: var(--accent-gold);
        font-weight: 700;
    }
    
    .step-name {
        font-size: 0.95rem;
        font-weight: 500;
    }
    
    /* Sidebar */
    .service-sidebar {
        display: flex;
        flex-direction: column;
        gap: 24px;
        position: sticky;
        top: 100px;
        height: fit-content;
    }
    
    .cta-card {
        padding: 32px;
        background: var(--dark-card);
        border: 1px solid var(--border-subtle);
        border-radius: 20px;
        text-align: center;
    }
    
    .cta-card h3 {
        font-size: 1.2rem;
        margin-bottom: 12px;
    }
    
    .cta-price {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 24px;
    }
    
    .cta-card .btn {
        width: 100%;
        justify-content: center;
        margin-bottom: 16px;
    }
    
    .cta-note {
        font-size: 0.85rem;
        color: var(--text-tertiary);
    }
    
    .contact-card {
        padding: 24px;
        background: var(--dark-surface);
        border: 1px solid var(--border-subtle);
        border-radius: 16px;
    }
    
    .contact-card h4 {
        font-size: 1rem;
        margin-bottom: 8px;
    }
    
    .contact-card p {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin-bottom: 16px;
    }
    
    .contact-link {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        color: var(--accent-gold);
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 600;
        transition: all 0.3s ease;
    }
    
    .contact-link:hover {
        opacity: 0.8;
    }
    
    /* Responsive */
    @media (max-width: 968px) {
        .service-grid {
            grid-template-columns: 1fr;
            gap: 40px;
        }
        
        .service-sidebar {
            position: static;
            flex-direction: row;
            flex-wrap: wrap;
        }
        
        .cta-card,
        .contact-card {
            flex: 1;
            min-width: 280px;
        }
    }
    
    @media (max-width: 640px) {
        .service-hero {
            min-height: 60vh;
        }
        
        .hero-content {
            padding-top: 60px;
        }
        
        .service-sidebar {
            flex-direction: column;
        }
        
        .process-steps {
            flex-direction: column;
        }
        
        .process-step {
            min-width: auto;
        }
    }
</style>
