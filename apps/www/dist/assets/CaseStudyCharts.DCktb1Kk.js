import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as l}from"./index.CVf8TyFT.js";import{M as A,u as W,P as B,a as L,b as T,L as E,m as C}from"./proxy.DBxViIPh.js";class D extends l.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function F({children:t,isPresent:n}){const r=l.useId(),i=l.useRef(null),m=l.useRef({width:0,height:0,top:0,left:0}),{nonce:v}=l.useContext(A);return l.useInsertionEffect(()=>{const{width:c,height:a,top:s,left:x}=m.current;if(n||!i.current||!c||!a)return;i.current.dataset.motionPopId=r;const o=document.createElement("style");return v&&(o.nonce=v),document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${a}px !important;
            top: ${s}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[n]),e.jsx(D,{isPresent:n,childRef:i,sizeRef:m,children:l.cloneElement(t,{ref:i})})}const P=({children:t,initial:n,isPresent:r,onExitComplete:i,custom:m,presenceAffectsLayout:v,mode:c})=>{const a=W(V),s=l.useId(),x=l.useCallback(d=>{a.set(d,!0);for(const p of a.values())if(!p)return;i&&i()},[a,i]),o=l.useMemo(()=>({id:s,initial:n,isPresent:r,custom:m,onExitComplete:x,register:d=>(a.set(d,!1),()=>a.delete(d))}),v?[Math.random(),x]:[r,x]);return l.useMemo(()=>{a.forEach((d,p)=>a.set(p,!1))},[r]),l.useEffect(()=>{!r&&!a.size&&i&&i()},[r]),c==="popLayout"&&(t=e.jsx(F,{isPresent:r,children:t})),e.jsx(B.Provider,{value:o,children:t})};function V(){return new Map}const R=t=>t.key||"";function M(t){const n=[];return l.Children.forEach(t,r=>{l.isValidElement(r)&&n.push(r)}),n}const H=({children:t,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:m=!0,mode:v="sync",propagate:c=!1})=>{const[a,s]=L(c),x=l.useMemo(()=>M(t),[t]),o=c&&!a?[]:x.map(R),d=l.useRef(!0),p=l.useRef(x),g=W(()=>new Map),[z,h]=l.useState(x),[u,b]=l.useState(x);T(()=>{d.current=!1,p.current=x;for(let y=0;y<u.length;y++){const f=R(u[y]);o.includes(f)?g.delete(f):g.get(f)!==!0&&g.set(f,!1)}},[u,o.length,o.join("-")]);const j=[];if(x!==z){let y=[...x];for(let f=0;f<u.length;f++){const S=u[f],w=R(S);o.includes(w)||(y.splice(f,0,S),j.push(S))}v==="wait"&&j.length&&(y=j),b(M(y)),h(x);return}const{forceRender:k}=l.useContext(E);return e.jsx(e.Fragment,{children:u.map(y=>{const f=R(y),S=c&&!a?!1:x===u||o.includes(f),w=()=>{if(g.has(f))g.set(f,!0);else return;let I=!0;g.forEach($=>{$||(I=!1)}),I&&(k?.(),b(p.current),c&&s?.(),i&&i())};return e.jsx(P,{isPresent:S,initial:!d.current||r?void 0:!1,custom:S?void 0:n,presenceAffectsLayout:m,mode:v,onExitComplete:S?void 0:w,children:y},f)})})};function N({project:t}){const[n,r]=l.useState(0),[i,m]=l.useState(!0),[v,c]=l.useState(0),a=t.metrics.data&&Array.isArray(t.metrics.data),s=a?t.metrics.data:[],x=t.metrics.labels||[],o=a?Math.max(...s):1,d=t.metrics.type==="speed"||t.metrics.type==="comparison",p=t.metrics.before||0,g=t.metrics.after||0;l.useEffect(()=>{if(!(!a&&!d)){if(a){let h=0;r(0),c(s[0]),m(!0);const u=setInterval(()=>{if(h<s.length-1){h++,r(h);const b=s[h-1],j=s[h],k=400,y=Date.now(),f=()=>{const S=Date.now()-y,w=Math.min(S/k,1),I=1-Math.pow(1-w,3),$=Math.round(b+(j-b)*I);c($),w<1&&requestAnimationFrame(f)};requestAnimationFrame(f)}else m(!1),clearInterval(u)},800);return()=>clearInterval(u)}else if(d){c(p),m(!0);const h=setTimeout(()=>{const b=Date.now(),j=()=>{const k=Date.now()-b,y=Math.min(k/1500,1),f=1-Math.pow(1-y,3);if(t.metrics.type==="speed"){const S=p-(p-g)*f;c(parseFloat(S.toFixed(1)))}else{const S=p+(g-p)*f;c(Math.round(S))}y<1?requestAnimationFrame(j):m(!1)};requestAnimationFrame(j)},600);return()=>clearTimeout(h)}}},[t]);const z=()=>{if(a&&s.length>1){const h=((s[n]-s[0])/s[0]*100).toFixed(0);return h>0?`+${h}%`:`${h}%`}return d?t.metrics.type==="speed"?`${((p-g)/p*100).toFixed(0)}% faster`:`+${((g-p)/p*100).toFixed(0)}%`:""};return e.jsxs("div",{style:{background:"var(--dark-surface)",border:"1px solid var(--border-subtle)",borderRadius:"12px",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"220px"},children:[e.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"1px",textAlign:"center",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[i&&e.jsx(C.span,{animate:{opacity:[1,.4,1]},transition:{duration:1,repeat:1/0},style:{color:"var(--accent-green)"},children:"â—"}),a?"Growth Over Time":t.metrics.type==="speed"?"Speed Optimization":"Performance Growth"]}),e.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[e.jsxs(C.div,{initial:{scale:1.1,opacity:.7},animate:{scale:1,opacity:1},style:{fontSize:"56px",fontWeight:800,background:"linear-gradient(135deg, var(--primary), var(--accent-green))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",lineHeight:1.1},children:[v.toLocaleString(),t.metrics.type==="speed"?"s":""]},v),a&&x[n]&&e.jsx(C.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},style:{fontSize:"14px",color:"var(--text-secondary)",marginTop:"4px"},children:x[n]},n)]}),a&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:x.map((h,u)=>e.jsx(C.div,{style:{fontSize:"9px",color:u<=n?"var(--primary)":"var(--text-tertiary)",fontWeight:u===n?600:400},children:h},u))}),e.jsx("div",{style:{height:"6px",background:"var(--dark-bg)",borderRadius:"3px",overflow:"hidden",position:"relative"},children:e.jsx(C.div,{initial:{width:"0%"},animate:{width:`${(n+1)/s.length*100}%`},transition:{duration:.4,ease:"easeOut"},style:{height:"100%",background:"linear-gradient(90deg, var(--primary), var(--accent-green))",borderRadius:"3px"}})})]}),d&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"32px",marginBottom:"16px"},children:[e.jsxs("div",{style:{textAlign:"center",opacity:.6},children:[e.jsx("div",{style:{fontSize:"12px",color:"var(--text-tertiary)"},children:"Started at"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:600,color:"#ff6b6b"},children:[p,t.metrics.type==="speed"?"s":""]})]}),e.jsx("div",{style:{fontSize:"24px",color:"var(--primary)",alignSelf:"center"},children:"â†’"}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"12px",color:"var(--text-tertiary)"},children:"Now"}),e.jsxs("div",{style:{fontSize:"18px",fontWeight:600,color:"var(--accent-green)"},children:[g,t.metrics.type==="speed"?"s":""]})]})]}),a&&e.jsx("div",{style:{height:"40px",marginBottom:"16px"},children:e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 200 40",preserveAspectRatio:"none",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"counterGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"var(--primary)",stopOpacity:"0.3"}),e.jsx("stop",{offset:"100%",stopColor:"var(--primary)",stopOpacity:"0"})]})}),e.jsx(C.path,{initial:{pathLength:0},animate:{pathLength:(n+1)/s.length},transition:{duration:.4},d:`M0,40 ${s.slice(0,n+1).map((h,u)=>{const b=u/(s.length-1)*200,j=40-h/o*35;return`L${b},${j}`}).join(" ")} L${n/(s.length-1)*200},40 Z`,fill:"url(#counterGrad)"}),e.jsx(C.path,{d:`M${s.map((h,u)=>{const b=u/(s.length-1)*200,j=40-h/o*35;return`${b},${j}`}).join(" L")}`,fill:"none",stroke:"var(--border-subtle)",strokeWidth:"1",strokeDasharray:"4,4"}),e.jsx(C.path,{initial:{pathLength:0},animate:{pathLength:(n+1)/s.length},transition:{duration:.4},d:`M${s.slice(0,n+1).map((h,u)=>{const b=u/(s.length-1)*200,j=40-h/o*35;return`${b},${j}`}).join(" L")}`,fill:"none",stroke:"var(--primary)",strokeWidth:"2"}),e.jsx(C.circle,{cx:n/(s.length-1)*200,cy:40-s[n]/o*35,r:"4",fill:"var(--primary)",initial:{scale:0},animate:{scale:1}})]})}),e.jsx(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},style:{textAlign:"center",background:"linear-gradient(135deg, var(--primary), var(--accent-green))",color:"var(--dark-bg)",padding:"10px 20px",borderRadius:"20px",fontSize:"13px",fontWeight:600},children:i?"Tracking progress...":z()+" growth"})]})}function Z({caseStudies:t}){const[n,r]=l.useState(null),[i,m]=l.useState({projectId:null,pointIndex:null});return e.jsxs("div",{className:"case-study-charts",children:[e.jsxs("div",{className:"charts-header",children:[e.jsx("h2",{children:"Our Work"}),e.jsx("p",{children:"Click on any project to see the full case study"})]}),e.jsx("div",{className:"charts-grid",children:t.map((v,c)=>e.jsx(O,{project:v,projectIndex:c,isSelected:n===c,hoveredPoint:i,onHover:a=>m({projectId:c,pointIndex:a}),onHoverEnd:()=>m({projectId:null,pointIndex:null}),onClick:()=>r(n===c?null:c)},c))}),e.jsx(H,{children:n!==null&&e.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"project-details-panel",children:e.jsx(G,{project:t[n],onClose:()=>r(null)})})}),e.jsx("style",{jsx:!0,children:`
        .case-study-charts {
          margin-bottom: 40px;
        }

        .charts-header {
          margin-bottom: 28px;
        }

        .charts-header h2 {
          font-size: 24px;
          font-weight: 700;
          color: var(--text-primary);
          margin: 0 0 8px 0;
        }

        .charts-header p {
          color: var(--text-tertiary);
          font-size: 14px;
          margin: 0;
        }

        .charts-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 20px;
        }

        .project-details-panel {
          margin-top: 28px;
        }

        @media (max-width: 768px) {
          .charts-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]})}function O({project:t,projectIndex:n,isSelected:r,hoveredPoint:i,onHover:m,onHoverEnd:v,onClick:c}){const a=t.metrics.data&&Array.isArray(t.metrics.data),s=a?t.metrics.data:[],x=a?Math.max(...s):1;return e.jsxs(C.div,{onClick:c,whileHover:{y:-4},style:{background:"var(--dark-card)",border:`1px solid ${r?"var(--primary)":"var(--border-subtle)"}`,borderRadius:"16px",padding:"24px",cursor:"pointer",transition:"border-color 0.2s"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[e.jsx("span",{style:{fontSize:"32px"},children:t.icon}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,color:"var(--text-primary)",fontSize:"16px"},children:t.client}),e.jsx("span",{style:{fontSize:"10px",background:"var(--dark-surface)",padding:"3px 8px",borderRadius:"4px",color:"var(--text-tertiary)",textTransform:"uppercase",letterSpacing:"0.5px"},children:t.industry})]})]}),a?e.jsxs("div",{style:{height:"80px",marginBottom:"16px",position:"relative"},children:[e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 200 80",preserveAspectRatio:"none",onMouseLeave:v,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`grad-${n}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"var(--accent-green)",stopOpacity:"0.3"}),e.jsx("stop",{offset:"100%",stopColor:"var(--accent-green)",stopOpacity:"0"})]})}),e.jsx("path",{d:`M0,80 ${s.map((o,d)=>{const p=d/(s.length-1)*200,g=80-o/x*70;return`L${p},${g}`}).join(" ")} L200,80 Z`,fill:`url(#grad-${n})`}),e.jsx("path",{d:`M${s.map((o,d)=>{const p=d/(s.length-1)*200,g=80-o/x*70;return`${d===0?"":" "}${p},${g}`}).join("")}`,fill:"none",stroke:"var(--accent-green)",strokeWidth:"2.5"}),s.map((o,d)=>{const p=d/(s.length-1)*200,g=80-o/x*70,z=i.projectId===n&&i.pointIndex===d;return e.jsxs("g",{children:[e.jsx("circle",{cx:p,cy:g,r:15,fill:"transparent",onMouseEnter:()=>m(d)}),e.jsx("circle",{cx:p,cy:g,r:z?5:3,fill:z?"var(--accent-green)":"var(--dark-card)",stroke:"var(--accent-green)",strokeWidth:"2"})]},d)})]}),i.projectId===n&&i.pointIndex!==null&&e.jsxs("div",{style:{position:"absolute",left:`${i.pointIndex/(s.length-1)*100}%`,top:"0",transform:"translateX(-50%)",background:"var(--dark-bg)",border:"1px solid var(--border-subtle)",padding:"4px 8px",borderRadius:"4px",fontSize:"11px",color:"var(--text-primary)",whiteSpace:"nowrap",fontWeight:600,zIndex:10},children:[t.metrics.labels?.[i.pointIndex],": ",s[i.pointIndex].toLocaleString()]})]}):e.jsxs("div",{style:{height:"80px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"20px"},children:[t.metrics.type==="speed"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"22px",fontWeight:700,color:"#ff6b6b"},children:[t.metrics.before,"s"]}),e.jsx("div",{style:{fontSize:"10px",color:"var(--text-tertiary)"},children:"Before"})]}),e.jsx("div",{style:{fontSize:"18px",color:"var(--primary)"},children:"â†’"}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"22px",fontWeight:700,color:"var(--accent-green)"},children:[t.metrics.after,"s"]}),e.jsx("div",{style:{fontSize:"10px",color:"var(--text-tertiary)"},children:"After"})]})]}),t.metrics.type==="comparison"&&e.jsxs("div",{style:{width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"6px"},children:[e.jsx("div",{style:{flex:.25,height:"16px",background:"linear-gradient(90deg, #ff6b6b, #c0392b)",borderRadius:"3px"}}),e.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"var(--text-primary)"},children:t.metrics.before})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{flex:1,height:"16px",background:"linear-gradient(90deg, var(--primary), var(--accent-green))",borderRadius:"3px"}}),e.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"var(--text-primary)"},children:t.metrics.after})]})]})]}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:t.results.slice(0,2).map((o,d)=>e.jsxs("span",{style:{background:"var(--dark-surface)",padding:"4px 10px",borderRadius:"12px",fontSize:"11px",color:"var(--accent-green)",fontWeight:500},children:["âœ“ ",o]},d))})]})}function G({project:t,onClose:n}){return e.jsxs("div",{className:"details-panel",style:{background:"var(--dark-card)",border:"1px solid var(--border-subtle)",borderRadius:"16px",padding:"24px",position:"relative"},children:[e.jsx("button",{onClick:n,className:"close-btn",style:{position:"absolute",top:"16px",right:"16px",background:"var(--dark-surface)",border:"1px solid var(--border-subtle)",color:"var(--text-secondary)",width:"32px",height:"32px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",lineHeight:1,transition:"all 0.2s ease",zIndex:10},onMouseEnter:r=>{r.target.style.background="var(--primary)",r.target.style.color="var(--dark-bg)",r.target.style.borderColor="var(--primary)"},onMouseLeave:r=>{r.target.style.background="var(--dark-surface)",r.target.style.color="var(--text-secondary)",r.target.style.borderColor="var(--border-subtle)"},children:"Ã—"}),e.jsxs("div",{className:"details-content",style:{display:"grid",gridTemplateColumns:"1fr",gap:"24px"},children:[e.jsxs("div",{style:{display:"flex",gap:"14px",alignItems:"center",paddingRight:"40px"},children:[e.jsx("span",{style:{fontSize:"40px"},children:t.icon}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"10px",color:"var(--primary)",fontWeight:600,textTransform:"uppercase",letterSpacing:"1px"},children:t.industry}),e.jsx("h3",{style:{color:"var(--text-primary)",margin:"4px 0 0 0",fontSize:"20px",fontWeight:700},children:t.client})]})]}),e.jsxs("div",{className:"details-grid",children:[e.jsxs("div",{className:"details-text",children:[e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("h4",{style:{color:"var(--text-tertiary)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"6px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{style:{color:"var(--primary)"},children:"âš "})," The Challenge"]}),e.jsx("p",{style:{color:"var(--text-secondary)",margin:0,lineHeight:1.6,fontSize:"14px"},children:t.challenge})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("h4",{style:{color:"var(--text-tertiary)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"6px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{style:{color:"var(--primary)"},children:"ðŸ’¡"})," Our Solution"]}),e.jsx("p",{style:{color:"var(--text-secondary)",margin:0,lineHeight:1.6,fontSize:"14px"},children:t.solution})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("h4",{style:{color:"var(--text-tertiary)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{style:{color:"var(--accent-green)"},children:"ðŸ†"})," Results"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:t.results.map((r,i)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--text-secondary)",fontSize:"13px"},children:[e.jsx("span",{style:{color:"var(--accent-green)"},children:"âœ“"}),r]},i))})]}),e.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:t.techStack.map(r=>e.jsx("span",{style:{background:"var(--dark-surface)",color:"var(--primary)",padding:"6px 12px",borderRadius:"6px",fontSize:"11px",fontWeight:500},children:r},r))})]}),e.jsx("div",{className:"details-visual",children:e.jsx(N,{project:t})})]})]}),e.jsx("style",{children:`
                .details-grid {
                    display: grid;
                    grid-template-columns: 1fr 280px;
                    gap: 24px;
                }

                @media (max-width: 768px) {
                    .details-grid {
                        grid-template-columns: 1fr;
                    }
                    
                    .details-visual {
                        order: -1;
                    }
                }
            `})]})}export{Z as default};
